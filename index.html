<html ng-app='app'>
  <head>
    <script src="./bower_components/angular/angular.js"></script>
    <script src="./bower_components/angular-animate/angular-animate.js"></script>
	<script>
		angular.module('app', ['ngAnimate'])
			.controller('TestController', function($scope){
				$scope.data = [{name: 'joe'},{name: 'bob'}, {name: 'mike'}, {name: 'jan'}, {name: 'josh'}];
				var data = $scope.data;
				doSort();
				
				$scope.doClick = function doClick(item){
					removeItem(item);
				}
				
				$scope.addItem = function createNew(){
					data.push({name: $scope.newName});
					doSort();
					$scope.newName = "";
				}
				
				function removeItem(item) {
					var index = data.indexOf(item);
					data.splice(index, 1);
					console.log('Count: '+$scope.data.length);
				}
				
				function doSort() {
					$scope.data.sort(function (a, b) {
						return a.name.localeCompare(b.name);
					});
				}
			})
			.directive('myList', function(){
				
				return {
					link: function (scope, elem) {
						scope.elem = elem;
					},
					controller: function ($scope) {
						console.log($scope.data);
					},
					templateUrl: 'list-template.html'
				}
			});
	</script>
	<style>
		.square2 {
		  background: #2b3f53;
		  border-radius: 3px;
		  width: 100px;
		  transform-origin: 0% 50%;
		  padding: 5px;
		  color: white;
		}
		
		.fade.ng-enter {
		  animation: showNow 1s;
		  animation-fill-mode: forwards;
		}
		
		.fade.ng-leave {
		  animation: goAway 1s;
		  animation-fill-mode: forwards;
		  animation-timing-function: linear;
		}
		
		.contents {
			overflow:hidden;
		}
		
		#container {
			max-height: 300px;
			max-width: 120px;
			background-color: #dfdfdf;
		}
		
		@keyframes goAway {
			100% {
				transform: scale(1, 0);
				padding-top: 0px;
				padding-bottom: 0px;
				height: 0px;
				opacity: 0;
			}
		}
		
		@keyframes showNow {
			0% {
				transform: scale(1, 0);
			}
			100% {
				transform: scale(1, 1);
				opacity: 1;
			}
		}
		

	</style>
    <title></title>
  </head>
  <body ng-controller="TestController">
	<input type='text' ng-model='newName'/><button ng-click="addItem()">Create</button>
	<my-list></my-list>
  </body>
</html>
